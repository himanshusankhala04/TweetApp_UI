{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cogdotnet1019\\\\Desktop\\\\Component2\\\\tweetapp_ui\\\\src\\\\components\\\\Profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../utilities/Auth';\nimport Tweet from '../Tweet/Tweet';\nimport axios from 'axios';\nimport './Profile.css';\nimport TweetAppService from '../../utilities/TweetAppService';\nimport profileimg from '../../asset/user.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Profile() {\n  _s();\n\n  const auth = useAuth();\n  const navigate = useNavigate();\n  const service = new TweetAppService();\n  const [tweetdata, setTweetdata] = useState([]);\n  const pr = {\n    contactNumber: \"\",\n    emailId: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    username: \"\"\n  };\n  const [profile, setProfile] = useState(pr);\n  const [refreshKey, setRefreshKey] = useState(0);\n  const url = \"https://tweetapp120220831221357.azurewebsites.net\";\n  useEffect(() => {\n    async function fetchTweets() {\n      const response = await axios.get(`${url}/api/v1.0/tweets/user/search/${auth.user}`, {\n        \"method\": \"GET\",\n        \"headers\": {\n          \"Accept\": \"application/json\"\n        }\n      });\n      setTweetdata(response.data);\n      console.log(tweetdata);\n    }\n\n    fetchTweets();\n  }, [refreshKey]);\n  useEffect(() => {\n    async function fetchProfile() {\n      // const response = await axios.get(`http://localhost:29769/api/v1.0/tweets/user/${auth.user}`, {\n      //            \"method\": \"GET\",\n      //            \"headers\": {\n      //               \"Accept\":\"application/json\"\n      //           }});\n      const response = await service.getUserProfile(auth.user);\n      setProfile(response);\n    }\n\n    fetchProfile();\n    console.log(profile);\n  }, []);\n\n  function refreshUpdate() {\n    setTimeout(() => {\n      setRefreshKey(old => old + 1);\n    }, 1000);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"back\",\n    children: [/*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card h-100 w-25 mx-auto p-3 my-4\",\n      id: \"bg1\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: profileimg,\n          alt: \"profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: profile.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: [profile.firstName, \" \", profile.lastName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: profile.emailId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"title\",\n        children: profile.contactNumber\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"mt-5 mx-auto text-primary\",\n        style: {\n          width: \"7%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"h3 mt-3 mb-5 text-center text-secondary\",\n        children: \"My Tweets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), tweetdata.length > 0 ? [...tweetdata].reverse().map((dataPoint, index) => /*#__PURE__*/_jsxDEV(Tweet, {\n        dataPoint: dataPoint,\n        refreshUpdate: refreshUpdate\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"Z6jDDIlEtflYb/K/4eA9C7fmDFo=\", false, function () {\n  return [useAuth, useNavigate];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useAuth","Tweet","axios","TweetAppService","profileimg","Profile","auth","navigate","service","tweetdata","setTweetdata","pr","contactNumber","emailId","firstName","lastName","username","profile","setProfile","refreshKey","setRefreshKey","url","fetchTweets","response","get","user","data","console","log","fetchProfile","getUserProfile","refreshUpdate","setTimeout","old","width","length","reverse","map","dataPoint","index"],"sources":["C:/Users/cogdotnet1019/Desktop/Component2/tweetapp_ui/src/components/Profile/Profile.js"],"sourcesContent":["import {useEffect,useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../utilities/Auth';\r\nimport Tweet from '../Tweet/Tweet';\r\nimport axios from 'axios';\r\nimport './Profile.css';\r\nimport TweetAppService from '../../utilities/TweetAppService';\r\nimport profileimg from '../../asset/user.png';\r\n\r\nexport function Profile() {\r\n    const auth = useAuth();\r\n    const navigate = useNavigate();\r\n    const service = new TweetAppService();\r\n    const [tweetdata, setTweetdata] = useState([]);\r\n    const pr = {\r\n        contactNumber: \"\",\r\n        emailId: \"\",\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        username: \"\"\r\n\r\n    };\r\n    const [profile, setProfile] = useState(pr);\r\n    const [refreshKey,setRefreshKey] = useState(0);\r\n    const url = \"https://tweetapp120220831221357.azurewebsites.net\";\r\n\r\n    useEffect(() => {\r\n        async function fetchTweets() {\r\n             \r\n        const response = await axios.get(`${url}/api/v1.0/tweets/user/search/${auth.user}`, {\r\n          \"method\": \"GET\",\r\n          \"headers\": {\r\n            \"Accept\": \"application/json\"\r\n          }\r\n        });\r\n      setTweetdata(response.data);\r\n      console.log(tweetdata);\r\n      }\r\n      fetchTweets();\r\n    }, [refreshKey]);\r\n\r\n  \r\n    useEffect(() => {\r\n    \r\n        async function fetchProfile() {\r\n            // const response = await axios.get(`http://localhost:29769/api/v1.0/tweets/user/${auth.user}`, {\r\n            //            \"method\": \"GET\",\r\n            //            \"headers\": {\r\n            //               \"Accept\":\"application/json\"\r\n            //           }});\r\n         const response = await service.getUserProfile(auth.user);\r\n          setProfile(response);    \r\n        }\r\n        \r\n            fetchProfile();\r\n        \r\n        console.log(profile);\r\n      }, []);\r\n      \r\n\r\n     \r\n\r\n    function refreshUpdate(){\r\n        setTimeout(()=>{\r\n          \r\n            setRefreshKey(old => old+1);\r\n            },1000);\r\n    }\r\n    return (\r\n        <div className=\"back\">\r\n      \r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\r\n        />\r\n       \r\n        \r\n        <div className=\"card h-100 w-25 mx-auto p-3 my-4\" id=\"bg1\">\r\n       \r\n          <span><img src={profileimg} alt=\"profile\" /></span>\r\n          <h2>{profile.username}</h2>\r\n          <p className=\"title\">{profile.firstName} {profile.lastName}</p>\r\n          <p className=\"title\">{profile.emailId}</p>\r\n          <p className=\"title\">{profile.contactNumber}</p>\r\n          </div>\r\n        \r\n\r\n       \r\n        <div className=\"container mx-auto\">\r\n            <hr className=\"mt-5 mx-auto text-primary\" style={{width:\"7%\"}} />\r\n        <h3 className=\"h3 mt-3 mb-5 text-center text-secondary\">My Tweets</h3>\r\n        {tweetdata.length>0?[...tweetdata].reverse().map((dataPoint, index) => (\r\n          <Tweet dataPoint={dataPoint}  key={index} refreshUpdate={refreshUpdate}/>\r\n        )):\"\"}\r\n        \r\n\r\n        </div>\r\n        \r\n\r\n        </div>\r\n\r\n        \r\n    )\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}